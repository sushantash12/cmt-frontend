<div class="my-vehicles-title">Manage your Service Providers</div>
<div class="add-vehicle-button" *ngIf="!addButtonClicked && !editButtonClicked">
    <button class="btn btn-primary" (click)="addServiceProvider()">Add Provider</button>
</div>

<div class="my-vehicles" *ngIf="!addButtonClicked && !editButtonClicked">
    <div class="no-vehicles" *ngIf="providers.length == 0">
        You have no providers added. Click on Add Vehicle to add a new provider.
    </div>

    <div class="my-vehicles-title" *ngIf="providers.length > 0">
        Service Providers
    </div>

    <table *ngIf="providers.length > 0" class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Provider Name</th>
                <th scope="col">Email</th>
                <th scope="col">Phone</th>
                <th scope="col">Address</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let provider of providers">
                <td>{{provider?.name}}</td>
                <td>{{provider?.email}}</td>
                <td>{{provider?.phone}}</td>
                <td>{{provider?.address}}</td>
                <td>
                    <button class="btn btn-primary" (click)="editProvider(provider)">Edit</button>
                    <button class="btn btn-danger" (click)="open(mymodal, provider)">Delete</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Add provider -->
<div class="add-vehicle" *ngIf="addButtonClicked">
    <div class="my-vehicles-title">
        Add Provider
    </div>

    <form [formGroup]="addProviderForm">
        <div class="form-group">
            <label for="name">Provider Name</label>
            <input type="text" class="form-control" id="name" formControlName="name" placeholder="Enter Provider Name">
        </div>
        <div class="form-group">
            <label for="email">Provider Email</label>
            <input type="text" class="form-control" id="email" formControlName="email" placeholder="Enter Provider Email">
        </div>
        <div class="form-group">
            <label for="phone">Provider Phone</label>
            <input type="text" class="form-control" id="phone" formControlName="phone" placeholder="Enter Provider Phone">
        </div>
        <div class="form-group">
            <label for="address">Provider Address</label>
            <input type="text" class="form-control" id="address" formControlName="address" placeholder="Enter Provider Address">
        </div>
        <button type="submit" class="btn btn-primary mt-3" (click)="onAdd()">Add</button>
        <button type="button" class="btn btn-danger mt-3" (click)="addButtonClicked = false">Cancel</button>
    </form>
</div>

<!-- Edit provider -->
<div class="add-vehicle" *ngIf="editButtonClicked">
    <div class="my-vehicles-title">
        Edit Provider
    </div>

    <form [formGroup]="editProviderForm">
        <div class="form-group">
            <label for="name">Provider Name</label>
            <input type="text" class="form-control" id="name" formControlName="name" placeholder="Enter Provider Name">
        </div>
        <div class="form-group">
            <label for="email">Provider Email</label>
            <input type="text" class="form-control" id="email" formControlName="email" placeholder="Enter Provider Email">
        </div>
        <div class="form-group">
            <label for="phone">Provider Phone</label>
            <input type="text" class="form-control" id="phone" formControlName="phone" placeholder="Enter Provider Phone">
        </div>
        <div class="form-group">
            <label for="address">Provider Address</label>
            <input type="text" class="form-control" id="address" formControlName="address" placeholder="Enter Provider Address">
        </div>
        <button type="submit" class="btn btn-primary mt-3" (click)="onEdit()">Edit</button>
        <button type="button" class="btn btn-danger mt-3" (click)="editButtonClicked = false">Cancel</button>
    </form>
</div>

<ng-template #mymodal let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Delete Provider?</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">Ã—</span>
      </button>
    </div>
    <div class="modal-body">
      Are you sure you want to delete this provider?
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="deleteProvider()">Delete</button>
    <button type="button" class="btn btn-primary" (click)="modal.dismiss('cancel click')">Cancel</button>
    </div>
</ng-template>